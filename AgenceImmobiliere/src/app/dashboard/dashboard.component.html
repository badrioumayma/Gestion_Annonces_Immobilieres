<div class="dashboard-container">
  <!-- Utiliser le composant sidebar -->
  <app-sidebar></app-sidebar>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Header -->
    <div class="dashboard-header">
      <h2>Tableau de bord</h2>
      <div class="header-actions">
        <button class="btn btn-primary" (click)="openModal()">
          <i class="bi bi-plus-circle"></i> Nouvelle Propriété
        </button>
      </div>
    </div>

    <!-- Stats Cards -->
    <div class="stats-container">
      <div class="stat-card">
        <div class="stat-icon bg-primary">
          <i class="bi bi-house-door"></i>
        </div>
        <div class="stat-details">
          <h3>Total Propriétés</h3>
          <p class="stat-number">{{stats.total}}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon bg-success">
          <i class="bi bi-check-circle"></i>
        </div>
        <div class="stat-details">
          <h3>Disponibles</h3>
          <p class="stat-number">{{stats.available}}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon bg-warning">
          <i class="bi bi-currency-euro"></i>
        </div>
        <div class="stat-details">
          <h3>Vendues</h3>
          <p class="stat-number">{{stats.sold}}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon bg-info">
          <i class="bi bi-key"></i>
        </div>
        <div class="stat-details">
          <h3>Louées</h3>
          <p class="stat-number">{{stats.rented}}</p>
        </div>
      </div>
    </div>

    <!-- Properties Table -->
    <div class="table-container">
      <div class="table-header">
        <h3>Liste des propriétés</h3>
        <div class="table-actions">
          <div class="search-box">
            <i class="bi bi-search"></i>
            <input type="text" placeholder="Rechercher une propriété...">
          </div>
        </div>
      </div>
      
      <app-table 
        [properties]="properties"
        [isLoading]="isLoading"
        (edit)="navigateToEdit($event)"
        (delete)="deleteProperty($event)">
      </app-table>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="propertyModal" tabindex="-1" aria-labelledby="propertyModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="propertyModalLabel">Ajouter une propriété</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <app-addproperty></app-addproperty>
      </div>
    </div>
  </div>
</div>
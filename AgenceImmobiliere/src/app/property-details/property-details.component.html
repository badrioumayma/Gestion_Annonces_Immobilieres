<div class="property-details-container">
  <!-- Loading -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Chargement...</span>
    </div>
  </div>

  <!-- Error -->
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <!-- Content -->
  <div *ngIf="property && !loading" class="property-content">
    <!-- Images -->
    <div class="image-gallery">
      <div class="main-image-container">
        <button class="nav-button" (click)="previousImage()"><i class="bi bi-chevron-left"></i></button>
        <img [src]="property.images[activeImageIndex]" [alt]="property.title" class="main-image">
        <button class="nav-button" (click)="nextImage()"><i class="bi bi-chevron-right"></i></button>
      </div>
      <div class="thumbnail-container">
        <div *ngFor="let img of property.images; let i = index" 
             class="thumbnail" 
             [class.active]="i === activeImageIndex"
             (click)="setActiveImage(i)">
          <img [src]="img" [alt]="property.title + ' image ' + (i + 1)">
        </div>
      </div>
    </div>

    <!-- Info -->
    <div class="property-info">
      <h1 class="title">{{ property.title }}</h1>
      <div class="price">{{ property.price | currency:'EUR':'symbol':'1.0-0' }}</div>
      <div class="location"><i class="bi bi-geo-alt"></i> {{ property.location }}</div>

      <!-- Key Features -->
      <div class="key-features">
        <div><i class="bi bi-house-door"></i> {{ property.surface }} m²</div>
        <div><i class="bi bi-door-open"></i> {{ property.rooms }} pièces</div>
        <div><i class="bi bi-person-sleep"></i> {{ property.bedrooms }} chambres</div>
        <div><i class="bi bi-water"></i> {{ property.bathrooms }} salle(s) de bain</div>
      </div>

      <!-- Description -->
      <h2>Description</h2>
      <p>{{ property.description }}</p>

      <!-- Features List -->
      <h2>Caractéristiques</h2>
      <ul>
        <li *ngFor="let f of property.features"><i class="bi bi-check2"></i> {{ f }}</li>
      </ul>
    </div>
  </div>
</div>
